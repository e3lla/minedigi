(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6503],{1224:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/promotion-page/[promotionCode]",function(){return r(73615)}])},24360:function(t,e,r){"use strict";r.d(e,{e:function(){return u}});var n=r(70865),o=r(96670),i=r(50930),a=r(16194),s=r(34895),l=r(41435);function u(t){var e,r,u=t.response,d=t.params,c=t.identifier,p=t.cpcData,f=(0,n.Z)((0,o.Z)((0,n.Z)({},d||{}),{sort:(null==d?void 0:d.sort)?null==d?void 0:d.sort:null==u?void 0:null===(e=u.sort)||void 0===e?void 0:e.sortDefaultOptionId}),c(u));a.s$||(window.plpProductsData=(0,i.Z)(window.plpProductsData).concat((0,i.Z)((null==p?void 0:p.hasMobileSidebar)?[null==p?void 0:null===(r=p.cpcProducts)||void 0===r?void 0:r[0]]:[]),(0,i.Z)((0,l.x)(null==u?void 0:u.products)?[]:Object.values(u.products).map(function(t,e){var r;return(0,n.Z)({productPage:null==u?void 0:null===(r=u.pager)||void 0===r?void 0:r.pagerCurrentPage,productIndex:e},t)}))),window.plpData={data:u,identifiers:f}),(0,l.x)(u)||(0,s.Wp)(u,f,p)}},73615:function(t,e,r){"use strict";r.r(e),r.d(e,{__getServerSideProps:function(){return g},default:function(){return v}}),r(2784);var n=r(40171),o=r(26297),i=r(52322),a=r(2607),s=r(85872),l=r(42222),u=r(55357),d=r(41701),c=r(24360),p=r(46239),f=(0,r(1324).q)({url:function(t){var e=t.promotionCode;return"/promotions/".concat(e,"/")},transformer:p.M,inputTransformer:function(t){return t.promotionCode,(0,o.Z)(t,["promotionCode"])},isPageGetRequest:!0}),m=(0,d.D)({component:function(){var t=(0,u.et)(),e=t.data,r=t.fetchNextPage,n=t.hasNextPage,d=t.items,c=t.pending,p=t.params,f=t.fetchPage,m=t.pageNumber,v=t.changeParams,g=p||{},P=(g.promotionCode,(0,o.Z)(g,["promotionCode"]));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{isStatic:!0,isDesktopStatic:!0,children:(0,i.jsx)(s.v,{type:"specialSell",meta:null==e?void 0:e.productListPromotionTitleFa})}),(0,i.jsx)(l.c,{pages:d,fetchNextPage:r,fetchPage:f,pageNumber:m,hasNextPage:n,pending:c,changeParams:v,data:e,params:P})]})},dataProps:{apiMethod:f,disabled:!1,shouldUseLocation:!0,onSuccess:function(t){t.mutateItem,t.mutateItems;var e=t.params,r=t.response;(0,c.e)({params:e,response:r,identifier:function(t){return{cmpId:null==t?void 0:t.productListPromotionId}}})}},layoutProps:{desktopContentWidth:"4xl",wrapperClassName:"px-5 lg:px-0"}}),v=m,g=(0,n.I)({getSSRMethods:m.getAPIMethods,queryProps:m.dataProps})},46239:function(t,e,r){"use strict";r.d(e,{M:function(){return i}});var n=r(70865),o=r(92552);function i(t){var e=t.data,r=(e||{}).promotion||{},i=r.title_fa,a=r.code,s=r.id;return(0,n.Z)({productListPageData:(0,o.k)({data:e}),productListPromotionTitleFa:i,productListPromotionCode:a,productListPromotionId:s},(0,o.k)({data:e}))}},85872:function(t,e,r){"use strict";r.d(e,{v:function(){return c}});var n=r(47842),o=r(52322),i=r(31909),a=r(72677),s=r(54785),l=r.n(s),u={specialSell:"specialSell",digiPlus:"digiPlus",superMarket:"superMarket",tag:"tag"},d={specialSell:"/statics/img/svg/plp/promotions/specialSell.svg",digiPlus:"/statics/img/svg/plp/promotions/digiplus.svg",superMarket:"/statics/img/svg/plp/promotions/superMarket.svg",tag:""};function c(t){var e,r=t.type,s=t.meta,c=t.showTypeImage,p=t.metaTagName,f=t.contentClassName,m=t.className,v=(0,a.d)("relative mx-auto flex items-center justify-between flex-col lg:flex-row text-neutral-000 text-h5 py-3 lg:py-5",l().PromotionBanner,(e={},(0,n.Z)(e,l()["PromotionBanner--special"],r===u.specialSell),(0,n.Z)(e,l()["PromotionBanner--fresh"],r===u.superMarket),(0,n.Z)(e,l()["PromotionBanner--plus"],r===u.digiPlus),(0,n.Z)(e,l()["PromotionBanner--tag"],r===u.tag),e),m);return(0,o.jsxs)("div",{className:v,children:[(void 0===c||c)&&(0,o.jsx)("div",{className:"relative flex items-center justify-center px-16 lg:border-complete-l",children:(0,o.jsx)(i.E,{height:24,src:d[r],alt:""})}),(0,o.jsx)(void 0===p?"div":p,{className:(0,a.d)("relative grow lg:pr-6",f),children:s})]})}},98884:function(t,e,r){"use strict";r.d(e,{W:function(){return o}});var n=r(79968);function o(t){var e=t.data||{},r=e.title,o=e.url;return{breadcrumbTitle:r,breadcrumbUrl:(0,n.f)({data:o})}}},44286:function(t,e,r){"use strict";r.d(e,{h:function(){return function t(e){var r,f=e.data||{},m=f.type,v=f.key,g=f.icon,P=f.title,_=f.options;if((0,a.t)(m,u.kQ.NESTED_LIST))return(null==_?void 0:_.reduce(function(e,r){return(0,i.Z)(e).concat([t({data:(0,o.Z)((0,n.Z)({},r),{key:{keyCode:v,keyId:r.id}})})])},[]))||[];var h=(0,a.t)(v,l.Tx.CATEGORIES)&&(0,a.t)(m,u.kQ.CATEGORY_LIST);return{filterKey:v,filterType:m,filterIcon:g,filterTitle:P,filterOptionMin:null==_?void 0:_.min,filterOptionMax:null==_?void 0:_.max,filterCROId:(0,d.c)(v),filterOptions:null==_?void 0:null===(r=_.map)||void 0===r?void 0:r.call(_,function(t){var e,r,n,o,i,a,l,u,d,f,m;return h?(0,c.n)({data:t}):(r=(e=t||{}).id,n=e.icon,o=e.title,i=e.title_en,a=e.title_fa,l=e.is_selected,u=e.visibility,d=e.hex_code,f=e.description,m=e.image,{filterOptionId:r,filterOptionIcon:n,filterOptionHexCode:d,filterOptionTitleEn:i,filterOptionVisibility:u,filterOptionIsSelected:l,filterOptionTitle:(0,s.U)(a)||o,filterOptionDescription:f,filterOptionImage:(0,p.W)({data:m}),filterOptionTitleFa:(0,s.U)(a)||o})})}}}});var n=r(70865),o=r(96670),i=r(50930),a=r(82332),s=r(52216),l=r(45227),u=r(43202),d=r(89086),c=r(90917),p=r(70582)},46932:function(t,e,r){"use strict";function n(t){var e=t.data||{};return{pagerTotalItems:e.total_items,pagerTotalPages:e.total_pages,pagerCurrentPage:e.current_page}}r.d(e,{d:function(){return n}})},92552:function(t,e,r){"use strict";r.d(e,{k:function(){return f}});var n=r(70865),o=r(96670),i=r(66383),a=r(5759),s=r(90917),l=r(73587),u=r(72394),d=r(46932),c=r(44286),p=r(98884);function f(t){var e,r,f=t.data,m=f||{},v=m.filters,g=m.pager,P=m.products,_=m.sort,h=m.category,x=m.breadcrumb;return{filters:Object.entries(v||{}).flatMap(function(t){var e=(0,i.Z)(t,2),r=e[0],o=e[1];return(0,c.h)({data:(0,n.Z)({key:r},o)})}),pager:(0,d.d)({data:g}),products:null==P?void 0:P.map(function(t){return(0,l.r)({data:t})}),sort:(0,u.G)({data:(0,o.Z)((0,n.Z)({},f),{default:(0,a.h)(_)?_:null==_?void 0:_.default})}),breadcrumbs:(null===(e=null==x?void 0:x.slice(0,-1))||void 0===e?void 0:null===(r=e.map)||void 0===r?void 0:r.call(e,function(t){return(0,p.W)({data:t})}))||[],category:(0,s.n)({data:h})}}},72394:function(t,e,r){"use strict";r.d(e,{G:function(){return o}});var n=r(64248);function o(t){var e,r=t.prefix,o=t.data||{},i=o.sort_options,a=o.default;return(0,n.Y)({sortDefaultOptionId:a,sortOptions:null==i?void 0:null===(e=i.map)||void 0===e?void 0:e.call(i,function(t){var e,r,n,o;return r=(e=t||{}).id,n=e.title_fa,o=e.title,{sortOptionId:r,sortOptionTitle:n||o}})},{prefix:r})}},54785:function(t){t.exports={PromotionBanner:"styles_PromotionBanner____yeI","PromotionBanner--special":"styles_PromotionBanner--special__DlNgY","PromotionBanner--fresh":"styles_PromotionBanner--fresh__I5kwJ","PromotionBanner--plus":"styles_PromotionBanner--plus__r2wuW","PromotionBanner--tag":"styles_PromotionBanner--tag__mwUsd"}}},function(t){t.O(0,[6547,5214,86,6057,4299,1710,9774,2888,179],function(){return t(t.s=1224)}),_N_E=t.O()}]);