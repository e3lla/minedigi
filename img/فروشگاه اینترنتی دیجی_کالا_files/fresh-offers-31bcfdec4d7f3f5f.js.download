(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1133],{56386:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fresh-offers",function(){return r(62905)}])},78194:function(e,t,r){"use strict";r.d(t,{o:function(){return u}});var n=r(66383),s=r(52322),i=r(2784),a=r(16194),o=r(18071),l=r(91648),d=r.n(l);function u(e){var t=e.banners,r=e.showSkeleton,l=e.hasLoaded,u=e.className,c=e.colorType,f=e.sliderClassName,p=e.isHeaderVisible,m=(0,n.Z)((0,i.useState)(l),2),h=m[0],v=m[1],g=(0,n.Z)((0,i.useState)(t),2),x=g[0],_=g[1],b=(0,n.Z)((0,i.useState)(r),2),P=b[0],O=b[1];return(0,i.useEffect)(function(){l&&v(!0)},[l]),(0,i.useEffect)(function(){h||(_(t),O(r))},[h,r,x]),(0,s.jsxs)("div",{className:(0,a.dh)(d().AmazingSlider,u,"4xl:px-4 container-4xl-w mx-auto"),children:[void 0===p||p?(0,s.jsx)("div",{className:(0,a.dh)("w-full relative flex items-center justify-center",d().Header,d()["Header--".concat(void 0===c?"amazing":c)])}):null,(0,s.jsx)(o.J,{className:f,isAmazingPage:!0,disableFreeModeOnDesktop:!0,slides:x,showSkeleton:P})]})}},11452:function(e,t,r){"use strict";r.d(t,{N:function(){return d}});var n=r(52322),s=r(5632),i=r(59848),a=r(45227),o=r(41435),l=r(82332);function d(e){var t,r=e.categories,d=e.selectedIncredibleProducts,u=e.pending,c=e.className,f=e.colorType,p=(0,s.useRouter)();if((0,o.x)(null==d?void 0:d.products))return null;var m=((null==r?void 0:null===(t=r.find)||void 0===t?void 0:t.call(r,function(e){return(0,l.t)(e.categoryId,p.query[a.Tx.CATEGORY_ID])}))||{}).categoryCode;return(0,n.jsx)(i.J,{typoType:"picked",colorSet:null!=m?m:void 0===f?"amazing":f,hasLeftLinearPadding:!0,products:d.products,productsTitle:d.productsTitle,pending:u,className:c})}},24360:function(e,t,r){"use strict";r.d(t,{e:function(){return d}});var n=r(70865),s=r(96670),i=r(50930),a=r(16194),o=r(34895),l=r(41435);function d(e){var t,r,d=e.response,u=e.params,c=e.identifier,f=e.cpcData,p=(0,n.Z)((0,s.Z)((0,n.Z)({},u||{}),{sort:(null==u?void 0:u.sort)?null==u?void 0:u.sort:null==d?void 0:null===(t=d.sort)||void 0===t?void 0:t.sortDefaultOptionId}),c(d));a.s$||(window.plpProductsData=(0,i.Z)(window.plpProductsData).concat((0,i.Z)((null==f?void 0:f.hasMobileSidebar)?[null==f?void 0:null===(r=f.cpcProducts)||void 0===r?void 0:r[0]]:[]),(0,i.Z)((0,l.x)(null==d?void 0:d.products)?[]:Object.values(d.products).map(function(e,t){var r;return(0,n.Z)({productPage:null==d?void 0:null===(r=d.pager)||void 0===r?void 0:r.pagerCurrentPage,productIndex:t},e)}))),window.plpData={data:d,identifiers:p}),(0,l.x)(d)||(0,o.Wp)(d,p,f)}},62905:function(e,t,r){"use strict";r.r(t),r.d(t,{__getServerSideProps:function(){return q},default:function(){return U}}),r(2784);var n=r(40171),s=r(70865),i=r(96670),a=r(52322),o=r(97729),l=r.n(o),d=r(31909),u=r(47072),c=r(2607),f=r(96363),p=r(1129),m=r(21211),h=r(53795),v=r(42222),g=r(59848),x=r(88413),_=r(45756),b=r(56370),P=r(26442),O=r(64177),N=r(55357),S=r(41701),I=r(41435),y=r(78194),C=r(11452),T=r(24360),j=r(70724),D=r(25388),Z=r(93787),k=r(53213),w=r(92552),E=r(1324),R=(0,E.q)({url:"/fresh-offers/",transformer:function(e){var t,r=e.data||{},n=r.digiplus_incredible_products,s=r.incredible_products,i=r.lightening_deal_products,a=r.early_access_products,o=r.running_out_incredible_products,l=r.selected_incredible_products,d=r.incredible_banner_slider;return{freshOffersDigiplusIncredibleProducts:(0,Z.$)({data:n}),freshOffersIncredibleProducts:(0,w.k)({data:s}),freshOffersLightningDealProducts:(0,Z.$)({data:i}),freshOffersNormalIncredibleProducts:(0,Z.$)({data:s}),freshOffersEarlyAccessIncredibleProducts:(0,k.D)({data:a}),freshOffersRunningOutIncredibleProducts:(0,Z.$)({data:o}),freshOffersSelectedIncredibleProducts:(0,Z.$)({data:l}),freshOffersSliderBanners:null==d?void 0:null===(t=d.map)||void 0===t?void 0:t.call(d,function(e){return(0,D.C)({data:e})})}},isPageGetRequest:!0}),A=(0,E.q)({url:"/fresh-offers/products/",transformer:w.k}),L=r(51108),M=r.n(L);function H(e){return(0,a.jsx)(h._,(0,s.Z)({canShowSoldPercentage:!0},e))}var B=(0,S.D)({component:function(e){var t=e.ssrData||{},r=t.freshOffersLightningDealProducts,n=t.freshOffersSelectedIncredibleProducts,o=t.freshOffersRunningOutIncredibleProducts,h=t.freshOffersNormalIncredibleProducts,S=t.freshOffersEarlyAccessIncredibleProducts,T=t.freshOffersDigiplusIncredibleProducts,D=t.freshOffersSliderBanners,Z=(0,O.C)().isDesktop,k=!!(null==S?void 0:S.productsIsTeasingPhase),w=(0,N.et)(),E=w.data,R=w.fetchNextPage,A=w.hasNextPage,L=w.items,B=w.pending,U=w.params,q=w.fetchPage,z=w.pageNumber,G=w.changeParams,W=!(0,I.x)(L)||B;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"پیشنهادهای شگفت‌انگیز | فروشگاه اینترنتی دیجی‌کالا"})}),Z?(0,a.jsx)(c.Z,{isStatic:!0,isDesktopStatic:!0,children:(0,a.jsx)(y.o,{hasLoaded:!(0,I.x)(E)&&!B,colorType:"fresh",sliderClassName:(0,I.x)(null==n?void 0:n.products)&&M().bottomRadius,banners:D,showSkeleton:B})}):(0,a.jsxs)(f.D,{className:"bg-fresh-500",children:[(0,a.jsx)(f.D.BackButton,{color:"white"}),(0,a.jsx)(d.E,{src:"/statics/img/svg/amazing/text.svg",height:24}),(0,a.jsx)(f.D.SearchButton,{color:"white"})]}),(0,a.jsx)("div",{className:"container-4xl-w mx-auto 4xl:px-4",children:(0,a.jsx)(C.N,{colorType:"fresh",className:M().bottomRadius,selectedIncredibleProducts:n,pending:B})}),(0,a.jsxs)("div",{className:"px-4 container-4xl-w mx-auto",children:[!(0,I.x)(null==o?void 0:o.products)&&(0,a.jsx)(m.O,(0,i.Z)((0,s.Z)({className:"mt-6",hasProductsContainer:!1},o),{productsTitleIcon:"comingSoon",bigDataCarouselName:x.ke,productCardProps:{canShowSoldPercentage:!0},titleClassName:"text-body1-strong pt-1"})),!(0,I.x)(null==h?void 0:h.products)&&(0,a.jsx)(p.q,(0,i.Z)((0,s.Z)({mode:p.D.INCREDIBLE,productsSeeMoreUrl:P.Xh},h),{className:"mt-6"})),(!(0,I.x)(null==S?void 0:S.products)||k)&&(0,a.jsx)(j._,(0,s.Z)({mode:k?b.X.TEASING_EARLY_ACCESS:b.X.EARLY_ACCESS,className:"mt-2",skeletonClassName:"mt-2",CROId:_.h.PLUS_CAROUSEL_FRESH},S))]}),!(0,I.x)(null==T?void 0:T.products)&&(0,a.jsx)(g.J,(0,s.Z)({className:"mt-6",colorSet:"plus",typoType:"plus",productsTitle:"شگفت‌انگیز سوپرمارکتی",link:null==T?void 0:T.productsSeeMoreUrl},T)),(0,a.jsxs)("div",{className:"px-4 container-4xl-w mx-auto",children:[!(0,I.x)(null==r?void 0:r.products)&&(0,a.jsx)(m.O,(0,i.Z)((0,s.Z)({className:"mt-6"},r),{bigDataCarouselName:x.A1,hasTitleLine:!1,hasProductsContainer:!1,titleClassName:"text-body1-strong pt-1"})),W&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)(u.D,{title:"همه شگفت‌انگیز‌ها",className:"px-2",titleClassName:"mt-0 text-subtitle-strong"}),(0,a.jsx)(v.c,{pages:L,fetchNextPage:R,fetchPage:q,pageNumber:z,hasNextPage:A,pending:B,changeParams:G,data:E,params:U,disableClassicPagination:!0,itemComponent:H})]})]})]})},getAPIMethods:function(e){return[{apiMethod:R,apiData:e.query}]},dataProps:{apiMethod:A,disabled:!1,shouldUseLocation:!1,onSuccess:function(e){var t=e.params,r=e.response;(0,T.e)({params:t,response:r,identifier:function(){return{pageName:x.lA}}})}},layoutProps:{desktopFullWidth:!0,chatKey:"fresh-offers",hasMobileHeader:!1}}),U=B,q=(0,n.I)({getSSRMethods:B.getAPIMethods,queryProps:B.dataProps})},53795:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var n=r(70865),s=r(26297),i=r(52322),a=r(2784),o=r(99896),l=r(96057),d=r(16991),u=r(64177);function c(e){var t=e.pending,r=(0,s.Z)(e,["pending"]),c=(0,u.C)().windowWidth,f=(0,a.useMemo)(function(){return c<d.j.SM?o.p:l.b},[c]);return(0,i.jsx)(f,(0,n.Z)({isDigiplusBadges:!0,isSkeleton:t,productTitleTag:"h2"},r))}},98884:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});var n=r(79968);function s(e){var t=e.data||{},r=t.title,s=t.url;return{breadcrumbTitle:r,breadcrumbUrl:(0,n.f)({data:s})}}},44286:function(e,t,r){"use strict";r.d(t,{h:function(){return function e(t){var r,p=t.data||{},m=p.type,h=p.key,v=p.icon,g=p.title,x=p.options;if((0,a.t)(m,d.kQ.NESTED_LIST))return(null==x?void 0:x.reduce(function(t,r){return(0,i.Z)(t).concat([e({data:(0,s.Z)((0,n.Z)({},r),{key:{keyCode:h,keyId:r.id}})})])},[]))||[];var _=(0,a.t)(h,l.Tx.CATEGORIES)&&(0,a.t)(m,d.kQ.CATEGORY_LIST);return{filterKey:h,filterType:m,filterIcon:v,filterTitle:g,filterOptionMin:null==x?void 0:x.min,filterOptionMax:null==x?void 0:x.max,filterCROId:(0,u.c)(h),filterOptions:null==x?void 0:null===(r=x.map)||void 0===r?void 0:r.call(x,function(e){var t,r,n,s,i,a,l,d,u,p,m;return _?(0,c.n)({data:e}):(r=(t=e||{}).id,n=t.icon,s=t.title,i=t.title_en,a=t.title_fa,l=t.is_selected,d=t.visibility,u=t.hex_code,p=t.description,m=t.image,{filterOptionId:r,filterOptionIcon:n,filterOptionHexCode:u,filterOptionTitleEn:i,filterOptionVisibility:d,filterOptionIsSelected:l,filterOptionTitle:(0,o.U)(a)||s,filterOptionDescription:p,filterOptionImage:(0,f.W)({data:m}),filterOptionTitleFa:(0,o.U)(a)||s})})}}}});var n=r(70865),s=r(96670),i=r(50930),a=r(82332),o=r(52216),l=r(45227),d=r(43202),u=r(89086),c=r(90917),f=r(70582)},46932:function(e,t,r){"use strict";function n(e){var t=e.data||{};return{pagerTotalItems:t.total_items,pagerTotalPages:t.total_pages,pagerCurrentPage:t.current_page}}r.d(t,{d:function(){return n}})},92552:function(e,t,r){"use strict";r.d(t,{k:function(){return p}});var n=r(70865),s=r(96670),i=r(66383),a=r(5759),o=r(90917),l=r(73587),d=r(72394),u=r(46932),c=r(44286),f=r(98884);function p(e){var t,r,p=e.data,m=p||{},h=m.filters,v=m.pager,g=m.products,x=m.sort,_=m.category,b=m.breadcrumb;return{filters:Object.entries(h||{}).flatMap(function(e){var t=(0,i.Z)(e,2),r=t[0],s=t[1];return(0,c.h)({data:(0,n.Z)({key:r},s)})}),pager:(0,u.d)({data:v}),products:null==g?void 0:g.map(function(e){return(0,l.r)({data:e})}),sort:(0,d.G)({data:(0,s.Z)((0,n.Z)({},p),{default:(0,a.h)(x)?x:null==x?void 0:x.default})}),breadcrumbs:(null===(t=null==b?void 0:b.slice(0,-1))||void 0===t?void 0:null===(r=t.map)||void 0===r?void 0:r.call(t,function(e){return(0,f.W)({data:e})}))||[],category:(0,o.n)({data:_})}}},72394:function(e,t,r){"use strict";r.d(t,{G:function(){return s}});var n=r(64248);function s(e){var t,r=e.prefix,s=e.data||{},i=s.sort_options,a=s.default;return(0,n.Y)({sortDefaultOptionId:a,sortOptions:null==i?void 0:null===(t=i.map)||void 0===t?void 0:t.call(i,function(e){var t,r,n,s;return r=(t=e||{}).id,n=t.title_fa,s=t.title,{sortOptionId:r,sortOptionTitle:n||s}})},{prefix:r})}},51108:function(e){e.exports={bottomRadius:"styles_bottomRadius__YhSCn"}},91648:function(e){e.exports={Header:"styles_Header__1i_jV","Header--amazing":"styles_Header--amazing__RTIwB","Header--fresh":"styles_Header--fresh___A3AC"}}},function(e){e.O(0,[6547,5214,86,6057,4299,1710,8071,9848,1129,6124,9245,9774,2888,179],function(){return e(e.s=56386)}),_N_E=e.O()}]);