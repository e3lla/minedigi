(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{45081:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(45351)}])},94313:function(e,t,o){"use strict";o.d(t,{f:function(){return C}});var n=o(47842),i=o(52322),s=o(25237),r=o.n(s),l=o(98780),a=o(31909),d=o(80803),c=o(27314),u=o(3005),p=o(51275),m=o(1964),v=o(52216),h=o(41435),g=o(72677),f=o(93369),x=o(637),_=o.n(x),N=r()(function(){return o.e(8264).then(o.bind(o,98264)).then(function(e){return e.ShippingFeePromotionModal})},{loadableGenerated:{webpack:function(){return[98264]}},ssr:!1});function C(e){var t=e.shippingFeePromotionDiscountPercent,o=e.shippingFeePromotionTimer,s=e.shippingFeePromotionUrl,r=e.shippingFeePromotionTitle,x=e.shippingFeePromotionDescription,C=e.isPDP,j=void 0!==C&&C,b=e.isInOneLineOnDesktop,w=e.className,y=(0,p.TP)(),I=(0,c.e)().redirect,k=(0,u.J)(m.k.getCurrentDateTime().getTime()+1e3*o,{hasHours:!0,isArray:!0}),P=(0,d.d)(),S=P.isOpen,U=P.onOpen,O=P.onClose;return k?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{onClick:function(){s&&((0,h.x)(y)?U():I({url:s}))},className:(0,g.d)("flex items-center justify-center pr-0 pl-2 lg:px-2 py-0 lg:py-2 overflow-hidden",(0,n.Z)({},_()["ShippingFeePromotion--pdp"],j),{"cursor-pointer":s},_().ShippingFeePromotion,w),children:[(0,i.jsxs)("div",{className:(0,g.d)("flex items-center relative px-3 lg:mx-5 py-5 lg:py-0",_().ShippingFeePromotion__countdown),children:[(0,i.jsx)(a.E,{src:"/statics/img/svg/confetti-right.svg",className:(0,g.d)("absolute top-0 right-unset lg:right-0 flex items-center justify-center",_().ShippingFeePromotion__countdownConfetti,_()["ShippingFeePromotion__countdownConfetti--rightUp"])}),(0,i.jsx)(f.h,{countdown:k}),(0,i.jsx)(a.E,{src:"/statics/img/svg/confetti-left.svg",className:(0,g.d)("absolute left-unset lg:left-0 bottom-0 lg:bottom-unset flex items-center justify-center",_().ShippingFeePromotion__countdownConfetti,_()["ShippingFeePromotion__countdownConfetti--leftBottom"])})]}),(0,i.jsxs)("div",{className:(0,g.d)("flex items-center flex-col",(0,n.Z)({"lg:flex-row":void 0===b||b},_().ShippingFeePromotion__text,j)),children:[(0,i.jsx)("span",{className:(0,g.d)("lg:mx-3 text-neutral-900 z-1",{" text-body1-extra":!j,"text-h5-extra":j},_().ShippingFeePromotion__title),children:r||"٪".concat((0,v.U)(t)," تخفیف هزینه ارسال")}),(0,i.jsx)("span",{className:(0,g.d)("text-neutral-900 z-1",{"text-caption":!j,"text-body-1":j},_().ShippingFeePromotion__description),children:void 0===x?"همین حالا کالاهات رو بخر!":x})]}),!j&&(0,i.jsx)(l.J,{icon:"chevronLeft",size:32,color:"black",className:"mr-2"})]}),(0,i.jsx)(N,{countdown:k,isOpenModal:S,closeModal:O})]}):null}},31192:function(e,t,o){"use strict";o.d(t,{E:function(){return a}});var n=o(52322),i=o(98780),s=o(72677),r=o(73186),l=o.n(r);function a(e){var t=e.className,o=e.direction,r=e.onClick,a="chevron".concat(o[0].toUpperCase()).concat(o.slice(1));return(0,n.jsx)("div",{onClick:r,className:(0,s.d)(t,"p-2 rounded-circle border-complete absolute bottom-0 top-0 m-auto h-max bg-neutral-000 cursor-pointer",l()[o]),children:(0,n.jsx)(i.J,{icon:a,color:"low-emphasis",size:24})})}},70724:function(e,t,o){"use strict";o.d(t,{_:function(){return N}});var n=o(70865),i=o(96670),s=o(52322),r=o(51648),l=o(88413),a=o(45756),d=o(525),c=o(691),u=o(64177),p=o(80803),m=o(42080),v=o(87049),h=o(8155),g=o(67418),f=o(6013),x=o(79593),_=o(69605);function N(e){var t=e.mode,o=e.products,N=e.productsCount,C=e.productsSeeMoreUrl,j=e.productsTitle,b=e.showSkeleton,w=e.skeletonClassName,y=e.className,I=e.productsCountdownTimer,k=e.productsModalTitle,P=e.productsModalDescription,S=e.CROId,U=(0,p.d)(),O=U.isOpen,T=U.onOpen,R=U.onClose,E=(0,u.C)(),D=E.isDesktop,M=E.windowWidth,L=(0,m.e)({isOpen:O}).zIndex,A=(0,v.v)(f.p.digiplusIsActivated);return(0,s.jsx)(r.nG,{className:y,products:void 0===o?[]:o,isDesktop:D,mode:t,CROId:S,CROIdTeasingAccept:a.h.PLUS_ON_MODAL_BUY_SUBSCRIPTION,CROIdTeasingClose:a.h.PLUS_ON_MODAL_I_UNDERSTAND,isSkeleton:void 0!==b&&b,skeletonClassName:w,productsCount:void 0===N?0:N,productsSeeMoreUrl:void 0===C?"":C,productsTitle:j,productsModalTitle:k,productsCountdownTimer:I,productsModalDescription:P,onBuySubscription:function(){R(),(0,h.d0)({clickedItemName:"buy subscription button",widgetName:l.YI}),(0,_.u)({url:c.Sl})},windowWidth:M,zIndex:L,isOpenTeasingModal:O,onOpenTeasingModal:T,onCloseTeasingModal:function(){(0,h.d0)({clickedItemName:"i understand button",widgetName:l.YI}),R()},onCarouselBoxProductClick:function(e){(0,h.ID)((0,i.Z)((0,n.Z)({},e),{bigDataCarouselName:l.Z,carouselTitle:j,url:x.s?null:null==window?void 0:window.location.pathname}))},onCarouselBoxProductsView:function(e){(0,h.bY)((0,i.Z)((0,n.Z)({},e),{bigDataCarouselName:l.Z,carouselTitle:j,url:x.s?null:null==window?void 0:window.location.pathname}))},onDataLayerCarouselClick:function(e){(0,g.Hw)((0,i.Z)((0,n.Z)({},e),{type:d.k.amazingShortcut(t)}))},isDigiplusActivated:A})}},45351:function(e,t,o){"use strict";o.r(t),o.d(t,{__getServerSideProps:function(){return t3},default:function(){return t7}});var n=o(40171),i=o(47842),s=o(70865),r=o(96670),l=o(52322),a=o(2784),d=o(43997),c=o(63319),u=o(64997),p=o(98604),m=o(18071),v=o(8505),h=o(88922),g=o(1129),f=o(18162),x=o(95728),_=o(59848),N=o(96021),C=o(59437),j=o(31909),b=o(88413),w=o(26442),y=o(8155),I=o(6013),k=o(72677),P=o(57019),S=o(98780),U=o(64177),O=o(89086),T=o(23154),R=o(22427),E=o.n(R),D=function(e){var t=e.title,o=e.link,n=e.image,i=e.icon,a=e.className,d=e.CROId,c=e.onClick,u=(0,U.C)().isDesktop,p=(0,k.d)("flex-1 flex flex-col lg:flex-row items-center lg:justify-between bg-neutral-000 overflow-hidden ",E().widgetClub__section,a);return(0,l.jsx)("span",(0,r.Z)((0,s.Z)({},(0,O.t)(void 0===d?"":d)),{onClick:c,children:(0,l.jsxs)(C.e,{mode:"link",href:o,className:p,children:[(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row items-center lg:mr-4 my-2 lg:my-0",children:[i&&(0,l.jsx)(S.J,{icon:i,size:20,color:(0,T.$)("color-blue-700")}),(0,l.jsx)("span",{className:"text-body2-strong text-neutral-900 lg:mr-2 whitespace-nowrap",children:t})]}),(0,l.jsx)("div",{className:E().widgetClub__sectionImage,children:(0,l.jsx)(j.E,{src:n,height:u?60:62,className:E().widgetClub__sectionImageContainer,imageClassName:"w-full",objectFit:"cover",alt:t})})]})}))},M={userClubPoints:156,sections:[{image:"/statics/img/png/digiclub/wheel-spinner.jpg",title:"چرخ و بخت",icon:"luckyDraw",link:"https://games.digikala.com/digiclub/wheel-spinner",CROId:"hp-club-lucky-spinner"},{image:"/statics/img/png/digiclub/missions.png",title:"ماموریت ها",icon:"clubMission",link:"/digiclub/missions/",CROId:"hp-club-mission"},{image:"/statics/img/png/digiclub/awards.png",title:"جایزه ها",icon:"voucher",link:"/digiclub/rewards/",CROId:"hp-club-rewards"}]};function L(){var e=M.sections,t=(0,k.d)("w-full py-4 lg:py-3 px-4 flex flex-col lg:flex-row items-center justify-between lg:rounded-large mt-2",E().widgetClub__main),o=(0,d.v9)(I.p.digiclubData),n=null==o?void 0:o.digiclubPoints,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){(0,y.d0)({clickedItemName:(null==e?void 0:e.title)||"دیجی‌کلاب",widgetName:b.kt})}};return(0,l.jsxs)("div",{className:t,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between lg:mr-6 w-full lg:w-unset",children:[(0,l.jsx)(C.e,{CROId:"hp-club-cta",href:w.r,children:(0,l.jsx)(j.E,{src:"/statics/img/svg/club/digiclub-logo-white.svg",width:119,height:33,alt:"دیجی‌کلاب",onClick:i()})}),n?(0,l.jsx)(P.d,{className:"flex lg:hidden",points:n}):null]}),(0,l.jsxs)("div",{className:"flex items-center mt-3 lg:mt-0",children:[n?(0,l.jsx)(P.d,{className:"mx-7 hidden lg:flex",points:n}):null,(0,l.jsx)("div",{className:"flex gap-1 rounded-medium overflow-hidden",children:e.map(function(e){return(0,l.jsx)(D,(0,r.Z)((0,s.Z)({},e),{className:E().widgetClub__section,onClick:i(e)}),e.title)})})]})]})}var A=o(64665),F=o(15585),Z=o(80786),B=o(42306),H=o(41701),V=o(41435),z=o(3336),G=o(66383),W=o(50930),J=o(66524),q=o(97411),Y=o(72873),X=o(80803),K=o(79593),Q=o(42729),$=o(57931),ee=o(98723),et=o(50603),eo=o(71390),en=o(83679),ei=o.n(en);function es(e){var t=e.posts,o=e.isOpen,n=e.onClose,i=e.toPostWithIndex;return(0,l.jsx)(et.Modal,{width:600,isOpen:o,onDismiss:n,hasFooterTopShadow:!1,headerTitle:"تماشای دوباره!",footer:(0,l.jsx)($.z,{to:(0,w.ws)(),className:"w-full",children:"بازگشت به دیجی کالا"}),children:(0,l.jsx)(q.l,{items:t.map(function(e,t){var o,s,r,a,d;return(0,l.jsxs)("div",{className:"relative shrink-0 rounded-large overflow-hidden ml-2",onClick:function(){i(t),n()},children:[(0,l.jsx)(j.E,{objectFit:"cover",height:280,width:150,image:null===(o=e.postMedia)||void 0===o?void 0:null===(s=o[0])||void 0===s?void 0:s.postMediaSmallCover}),(0,l.jsxs)(ee.r,{to:(0,w.kK)(null===(r=e.postAuthor)||void 0===r?void 0:r.authorUsername),className:(0,k.d)(ei().VideoEndedModal__item,"flex flex-col gap-2 absolute bottom-0 left-0 right-0 min-h-25 px-2 pb-3 pt-2"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(j.E,{className:"shrink-0",imageClassName:"rounded-circle",image:null===(a=e.postAuthor)||void 0===a?void 0:a.authorPhoto,src:eo.C,height:32,width:32}),(0,l.jsx)("p",{className:"text-body-1 text-white",children:null===(d=e.postAuthor)||void 0===d?void 0:d.authorUsername})]}),(0,l.jsx)("p",{className:"text-body2-strong text-white ellipsis-2",children:e.postTitle})]})]},e.postId)})})})}var er=o(37149),el=o.n(er),ea=o(24034),ed=o(31192),ec=o(62075),eu=o(34990),ep=o(14889),em=o(73076),ev=o(90830),eh=o.n(ev);function eg(e){var t=e.onChange,o=e.videoTimer,n=e.onTouchMove,i=e.onTouchEnd,s=o.playedPercent,r=o.playedSeconds,a=(0,ep.ox)(r),d=a.hours,c=a.minutes,u=a.seconds,p=0===Math.floor(Number((0,em.d)(d)))?"":"".concat(d,":"),m="".concat(p).concat(c,":").concat(u);return(0,l.jsxs)("div",{className:"w-full pt-4 pb-3 flex items-center justify-between gap-1",onTouchEnd:function(e){return e.stopPropagation()},children:[(0,l.jsx)(eu.U,{direction:"ltr",handleClassName:"!bg-white !h-4 !w-4",activeRangeClassName:"!bg-white",rangeClassName:eh().VideoPlayerSeeker__range,pipClassName:"hidden",min:0,max:100,onChange:t,value:[s],onTouchMove:n,onTouchEnd:i}),(0,l.jsx)("p",{className:"text-white text-caption-strong w-12 text-left",children:m})]})}var ef=o(98634),ex=o(48442),e_=o(51383),eN=o(96879),eC=o(84714),ej=o(23248),eb=o(11559),ew=o(87049),ey=o(45227),eI=o(1324),ek=o(39368),eP=(0,eI.q)({url:function(e){var t=e.postId;return"/magnet/posts/".concat(t,"/comments/create/")},transformer:function(e){var t=(e.data||{}).comment;return{comment:(0,ek.T)({data:t})}},inputTransformer:function(e){return{comment:e.commentBody}},type:ey.XN.POST});function eS(e){var t=e.className,o=e.post,n=e.onCommentSent,i=o||{},s=i.postId,r=i.postAuthor,d=(0,G.Z)((0,a.useState)(""),2),c=d[0],u=d[1],p=(0,ew.v)(I.p.socialData).socialProfile,m=(0,eb.E)({apiMethod:eP,onSuccess:function(e){return n(e.comment)}}),v=m.request,h=m.pending,g=""===c.trim(),f=function(e){e.preventDefault(),h||g||(v({postId:s,commentBody:c}),u(""),(0,ec.f3)({postId:s,postAuthorId:null==r?void 0:r.authorId}))};return(0,l.jsxs)("form",{onSubmit:f,className:(0,k.d)(t,"p-3 flex items-center gap-3 bg-neutral-100 border-complete rounded-large"),children:[(0,l.jsx)(j.E,{className:"shrink-0",imageClassName:"rounded-circle",image:null==p?void 0:p.socialProfileImage,src:eo.C,height:24,width:24}),(0,l.jsx)("input",{className:"w-full border-none text-neutral-600 placeholder-neutral-300",placeholder:"دیدگاه خود را بنویسید ...",onChange:function(e){return u(e.target.value)},value:c}),!g&&(0,l.jsx)(e_.P,{children:(0,l.jsx)(S.J,{icon:"send",color:h?"low-emphasis":"secondary",size:18,onClick:f})})]})}function eU(e){var t=e.post,o=e.isOpen,n=e.onClose,i=t||{},s=i.postId,r=i.postAuthor,d=(0,G.Z)((0,a.useState)([]),2),c=d[0],u=d[1];return(0,a.useEffect)(function(){return u([])},[o]),(0,a.useEffect)(function(){o&&(0,ec.W0)({postId:s,postAuthorId:null==r?void 0:r.authorId})},[o]),(0,l.jsx)(et.Modal,{BottomSheetClassName:"rounded-large mt-4 overflow-hidden",headerTitle:"دیدگاه‌ها",width:540,isOpen:o,onDismiss:n,shouldCloseOnPageChange:!1,hasFooterTopShadow:!1,footer:(0,l.jsx)(eS,{className:"mb-3 lg:mb-0",post:t,onCommentSent:function(e){u([e].concat((0,W.Z)(c)))}}),children:(0,l.jsx)(ej.D,{postId:s,disabled:!o,shouldDisplayLoading:!0,loadingClassName:"my-20",userSentComments:c,emptyStateElement:(0,l.jsxs)("div",{className:"my-15 flex flex-col gap-3 justify-center items-center",children:[(0,l.jsx)(j.E,{src:"/statics/img/svg/empty-comments.svg",width:256,height:192,alt:"empty-comments"}),(0,l.jsx)("p",{className:"text-color-700 text-body-1",children:"اولین نفری باش که دیدگاه می‌نویسد!"})]})})})}var eO={isLiked:{iconColor:"primary",iconName:"favoriteOn"},isDisliked:{iconColor:"white",iconName:"favoriteOff"}};function eT(e){var t=e.className,o=e.post,n=e.postReaction,i=e.isOpenCommentModal,a=e.onOpenCommentModal,d=e.onCloseCommentModal,c=e.onSuccessLike,u=o||{},p=u.postCommentsCount,m=u.postId,v=u.postAuthor,h=(0,eC.g)((0,r.Z)((0,s.Z)({},o),{postUserReaction:{isLiked:null==n?void 0:n.isPostLiked}}),c),g=h.handleLikePost,f=h.isLiked,x=h.likesCount,_=f?eO.isLiked:eO.isDisliked;return(0,l.jsxs)("div",{className:(0,k.d)(t,"flex gap-4 flex-col"),children:[(0,l.jsx)(e_.P,{children:(0,l.jsxs)("span",{className:"cursor-pointer text-white flex flex-col items-center text-body-strong",onClick:function(){g(),(0,ec.gj)({postId:m,postAuthorId:null==v?void 0:v.authorId})},children:[(0,l.jsx)(S.J,{color:_.iconColor,size:24,icon:_.iconName}),(0,l.jsx)(eN.I,{value:x})]})}),(0,l.jsxs)("span",{className:"cursor-pointer text-white flex flex-col items-center text-body-strong",children:[(0,l.jsx)(S.J,{color:"white",size:24,icon:"comment",onClick:a}),(0,l.jsx)(eN.I,{value:p})]}),(0,l.jsx)(eU,{postId:m,post:o,isOpen:i,onClose:d})]})}var eR=o(5046);function eE(e){var t=e.className,o=e.post;return(0,l.jsx)("div",{className:(0,k.d)(t,"relative h-full"),children:(0,l.jsx)(eR.l,{shouldDisplayShowMore:!1,titleColor:"text-neutral-100",captionColor:"text-neutral-100",post:o})})}var eD=o(92428),eM=o(36155),eL=o(14052),eA=o(52483),eF=(0,eI.q)({url:"magnet/affiliate/",type:ey.XN.POST,inputTransformer:function(e){return{post_id:e.postId,product_id:e.productId}}});function eZ(e){var t=e.className,o=e.products,n=e.postId,i=e.postAuthorId,d=(0,J.R)({modalId:Q.f.VIDEO_BABY_PDP}),c=d.isOpen,u=d.onClose,p=d.onOpen,m=(0,G.Z)((0,a.useState)({productId:null,product:null}),2),v=m[0],h=m[1],g=(0,eb.E)({apiMethod:eM.z,onSuccess:function(e){var t=e.product;h(function(e){return(0,r.Z)((0,s.Z)({},e),{product:t})}),p()}}),f=g.request,x=g.pending,_=(0,eb.E)({apiMethod:eF}).request;return(0,V.x)(o)?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:(0,k.d)(t,"flex gap-2 overflow-x-auto overflow-y-hidden hide-scrollbar bg-neutral-900 p-2"),children:o.map(function(e,t){var o=e.productId,a=e.productImage,d=e.productTitle;return(0,l.jsx)(eL.z,{loading:x&&o===v.productId,className:"ml-2 lg:ml-0",onClick:function(){h(function(e){return(0,r.Z)((0,s.Z)({},e),{productId:o})}),f({productId:o}),_({productId:o,postId:n}),(0,ec.ah)({productId:o,postId:n,postAuthorId:i,placeIndex:t})},productImage:a,productTitle:d},o)})}),v.product&&(0,l.jsx)(eA.J,{onAddToCart:function(e){(0,ec.q_)({productId:e,postId:n,postAuthorId:i})},onShowMoreClicked:function(e){(0,ec.dE)({productId:e,postId:n,postAuthorId:i})},isOpenModal:c,closeModal:function(){h({product:null,productId:null}),u()},product:v.product,type:eD.J.MAGNET_LIVE})]})}var eB=o(72610),eH=o(7208);function eV(e){var t=e.className,o=e.postMedia,n=e.videoTimer,i=e.setVideoTimer,d=e.playerRef,c=e.isPlaying;e.onEnded;var u=(0,G.Z)((0,a.useState)(!1),2),p=u[0],m=u[1],v=(o||{}).postMediaUrl;return(0,l.jsxs)("div",{className:(0,k.d)(t,"relative"),onClick:function(){return m(function(e){return!e})},children:[(0,l.jsx)(eB.g,{className:"absolute inset-0 mx-auto my-auto z-[-1]"}),(0,l.jsx)(eH.Y,{url:v,height:"100%",width:"100%",ref:d,playing:c,muted:p,loop:!0,onDuration:function(e){return i((0,r.Z)((0,s.Z)({},n),{duration:Math.floor(e)}))},onProgress:function(e){var t=e.playedSeconds,o=e.played;return c&&i((0,r.Z)((0,s.Z)({},n),{playedSeconds:t,playedPercent:Math.floor(100*o)}))}}),p&&(0,l.jsx)(S.J,{color:"white",icon:"speakerMuted",className:"absolute right-0 left-0 top-0 bottom-0 m-auto w-max h-max",size:75})]})}var ez=o(34479),eG=o.n(ez);function eW(e){var t=e.className;return(0,l.jsx)("div",{className:(0,k.d)(t,eG().VideoModalContentFooterOverlay)})}var eJ=o(57194),eq=o.n(eJ);function eY(e){var t=e.className;return(0,l.jsx)("div",{className:(0,k.d)(t,eq().VideoModalContentHeaderOverlay)})}function eX(e){var t,o,n,i,d,c,u,p,m,v,h,g,f,x,_=e.className,N=e.post,C=e.postReaction,j=e.onCloseVideoModal,b=e.onVideoEnded,w=e.toPreviousPost,y=e.toNextPost,I=e.updateLikeReaction,P=e.updateAuthorFollowedReaction,S=(0,J.R)({modalId:Q.f.VIDEO_COMMENTS}),U=S.isOpen,O=S.onOpen,T=S.onClose,R=(0,a.useRef)(null),E=(0,G.Z)((0,a.useState)({duration:0,playedSeconds:0,playedPercent:0}),2),D=E[0],M=E[1],L=(0,a.useRef)(!1);(0,a.useEffect)(function(){if(D.playedPercent>95)L.current&&(L.current=!1);else if(D.playedSeconds>3&&!L.current){var e;(0,ec.Qt)({postId:null==N?void 0:N.postId,postAuthorId:null===(e=N.postAuthor)||void 0===e?void 0:e.authorId}),L.current=!0}},[D]),(0,a.useEffect)(function(){L.current=!1},[N]);var A=(o=(t={onSwipedRight:y,onSwipedLeft:w}).onSwipedRight,n=t.onSwipedLeft,d=void 0===(i=t.minSwipeDistance)?75:i,u=(c=(0,G.Z)((0,a.useState)(0),2))[0],p=c[1],v=(m=(0,G.Z)((0,a.useState)(0),2))[0],h=m[1],{onTouchStart:function(e){h(0),p(e.targetTouches[0].clientX)},onTouchMove:function(e){return h(e.targetTouches[0].clientX)},onTouchEnd:function(){if(u&&v){var e=u-v;e>d&&n(),e<-d&&o()}}}),F=A.onTouchStart,Z=A.onTouchMove,B=A.onTouchEnd,H=(0,G.Z)((0,a.useState)(!0),2),V=H[0],z=H[1],W=(0,a.useCallback)((0,ef.Ds)(function(e){var t,o=e.value;null==R||null===(t=R.current)||void 0===t||t.seekTo(o[0]/100,"fraction")},300),[]);return(0,l.jsxs)("div",{className:(0,k.d)(_,"flex flex-col"),children:[(0,l.jsxs)("div",{className:"w-full h-30 relative flex-1",onTouchStart:F,onTouchMove:Z,onTouchEnd:B,children:[(0,l.jsx)(eY,{className:"absolute top-0 left-0 right-0 h-20 z-1"}),(0,l.jsx)(ex.A,{className:"absolute top-0 left-0 right-0 z-2 px-5 pt-4",user:(0,r.Z)((0,s.Z)({},{username:(g=(null==N?void 0:N.postAuthor)||{}).authorUsername,photo:g.authorPhoto,isFollowing:g.authorIsFollowing}),{isFollowing:null==C?void 0:C.isAuthorFollowed}),onSuccessFollowed:P,backButtonOnClick:j}),(0,l.jsx)(eV,{className:"w-full h-full",postMedia:null==N?void 0:null===(f=N.postMedia)||void 0===f?void 0:f[0],videoTimer:D,setVideoTimer:M,playerRef:R,isPlaying:V,onEnded:b}),(0,l.jsxs)("div",{className:"flex flex-col px-5 absolute bottom-0 right-0 left-0 z-2",children:[(0,l.jsx)(eW,{className:"absolute inset-0 z-0"}),(0,l.jsxs)("div",{className:"z-1",children:[(0,l.jsxs)("div",{className:"flex items-end justify-between lg:gap-2 gap-4",children:[(0,l.jsx)(eE,{post:N}),(0,l.jsx)(eT,{post:N,postReaction:C,isOpenCommentModal:U,onOpenCommentModal:O,onCloseCommentModal:T,onSuccessLike:I})]}),(0,l.jsx)(eg,{onChange:W,videoTimer:D,onTouchMove:function(){V&&z(!1)},onTouchEnd:function(){z(!0)}})]})]})]}),(0,l.jsx)(eZ,{className:"shrink-0 grow-0",postId:null==N?void 0:N.postId,postAuthorId:null==N?void 0:null===(x=N.postAuthor)||void 0===x?void 0:x.authorId,products:null==N?void 0:N.postProducts})]})}var eK={overlay:{zIndex:4,backgroundColor:"rgba(0, 0, 0, 0.8)"}};function eQ(e){var t=e.post,o=e.postReaction,n=e.isOpen,i=e.onClose,s=e.toNextPost,r=e.toPreviousPost,d=e.hasNextPost,c=e.hasPreviousPost,u=e.onVideoEnded,p=e.updateLikeReaction,m=e.updateAuthorFollowedReaction,v=t||{},h=v.postId,g=v.postAuthor,f=(0,a.useRef)(window.innerHeight);(0,F.N)({condition:n});var x=(0,U.C)().isDesktop;(0,a.useEffect)(function(){n&&(0,ec._H)({postId:h,postAuthorId:null==g?void 0:g.authorId})},[n]);var _=function(){(0,ec.Yk)({postId:h,postAuthorId:null==g?void 0:g.authorId}),i()};return(0,l.jsxs)(el(),{isOpen:n,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:_,className:(0,k.d)("relative w-fit lg:px-20 mx-auto flex justify-center items-center flex-row"),style:eK,children:[x&&d&&(0,l.jsx)(ed.E,{className:"my-auto",onClick:s,direction:"left"}),(0,l.jsx)("div",{className:"grow-0 lg:w-90 w-screen",style:x?{height:f.current>760?"720px":"".concat(.95*f.current,"px")}:{height:"".concat(f.current,"px")},children:(0,l.jsx)(eX,{onCloseVideoModal:_,onVideoEnded:u,post:t,postReaction:o,className:"w-full h-full",toNextPost:s,toPreviousPost:r,updateLikeReaction:p,updateAuthorFollowedReaction:m})}),x&&c&&(0,l.jsx)(ed.E,{className:"my-auto",onClick:r,direction:"right"}),(0,l.jsx)(ea.A,{})]})}var e$=o(84941),e0=o(63934),e2=(0,eI.q)({url:"/magnet/home-page/",transformer:function(e){var t,o,n=e.data||{},i=n.lives,s=n.posts;return{lives:(null==i?void 0:null===(t=i.map)||void 0===t?void 0:t.call(i,function(e){return(0,e$.A)({data:e})}))||[],posts:(null==s?void 0:null===(o=s.map)||void 0===o?void 0:o.call(s,function(e){return(0,e0.E)({data:e})}))||[]}}}),e1=(0,eI.q)({url:"/magnet/home-page/reactions/",transformer:function(e){var t=e.data;return{reactions:Object.keys(t||{}).reduce(function(e,o){var n=t[o]||{},l=n.is_author_followed,a=n.is_post_liked;return(0,r.Z)((0,s.Z)({},e),(0,i.Z)({},o,{isAuthorFollowed:l,isPostLiked:a}))},{})}}}),e4=o(27314),e3=o(52216),e7={NOT_STARTED:"not_started",STARTED:"started"},e5=o(86981),e6=o.n(e5);function e9(e){var t=e.isLiveItem,o=e.live,n=e.video,s=e.videoOnClick,r=e.className,a=e.itemIndex,d=(0,e4.e)().redirect,c=o||{},u=c.dkLiveStatus,p=c.dkLiveTitle,m=c.dkLiveSlug,v=c.dkLiveCover,h=c.dkLiveUser,g=c.dkLiveId,f=n||{},x=f.postTitle,_=f.postAuthor,N=f.postId,C=(_||{}).authorPhoto,b=u===e7.STARTED,y="flex items-center justify-center";return(0,l.jsxs)("div",{onClick:function(){t?((0,ec.$G)({liveId:g,liveOwnerId:null==h?void 0:h.id,placeIndex:a}),d({url:(0,w.$A)(m)})):((0,ec.OR)({postId:N,postAuthorId:null==_?void 0:_.authorId,placeIndex:a}),s())},className:(0,k.d)(r,"w-[84px] shrink-0 cursor-pointer"),children:[(0,l.jsxs)("div",{className:(0,k.d)(e6().container,"rounded-circle shrink-0 w-full aspect-square relative",y),children:[(0,l.jsx)("div",{className:(0,k.d)("rounded-circle overflow-hidden bg-white aspect-square",e6().innerContainer,y),children:(0,l.jsx)(j.E,{rounded:99999,objectFit:"cover",image:t?v:C,className:(0,k.d)("rounded-circle overflow-hidden",y,e6().image,(0,i.Z)({},e6()["image--live"],t&&b))})}),t?(0,l.jsx)("div",{className:(0,k.d)(e6().timeBadge,(0,i.Z)({},e6().timeBadge__started,b),"absolute left-0 right-0 bottom-0 border-solid border-2 border-white w-max mx-auto px-1.5 rounded-md text-caption-strong"),children:(0,e3.U)(o.dkLiveBadgeText)}):null]}),(0,l.jsx)("div",{className:"mt-2 text-caption ellipsis-2 text-center text-neutral-800",children:t?p:x})]})}function e8(){var e,t,o=(0,Y.V)({apiMethod:e2}).data||{},n=o.lives,d=o.posts,c=(0,X.d)(),u=c.isOpen,p=c.onOpen,m=c.onClose,v=(0,J.R)({modalId:Q.f.VIDEO}),h=v.isOpen,g=v.onOpen,f=v.onClose,x=(0,G.Z)((0,a.useState)(-1),2),_=x[0],N=x[1],C=h&&-1!==_,j=null==d?void 0:d[_],b=(j||{}).postId,w=((0,Y.V)({apiMethod:e1,disabled:!C}).data||{}).reactions,y=(0,G.Z)((0,a.useState)(w),2),I=y[0],P=y[1];(0,a.useEffect)(function(){P(w)},[w]);var S=C&&I&&I[b],U=0!==_,O=!(0,V.x)(d)&&_!==d.length-1;if((0,V.x)(n)&&(0,V.x)(d)||K.s)return null;var T=null==n?void 0:null===(e=n.map)||void 0===e?void 0:e.call(n,function(e,t){return(0,l.jsx)(e9,{className:(0,k.d)("ml-3 lg:ml-0",{"mr-2":0===t}),isLiveItem:!0,live:e,itemIndex:t},e.dkLiveId)}),R=null==d?void 0:null===(t=d.map)||void 0===t?void 0:t.call(d,function(e,t){return(0,l.jsx)(e9,{className:(0,k.d)("ml-3 lg:ml-0",{"mr-2":0===t&&(0,V.x)(n)}),video:e,videoOnClick:function(){N(t),g()},itemIndex:t},e.postId)});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(q.l,{sliderProps:{freeMode:!1,disableFreeModeOnDesktop:!0},className:"pt-4",spaceBetween:24,items:(0,W.Z)(T).concat((0,W.Z)(R))}),(0,l.jsx)(es,{posts:d,isOpen:u,onClose:m,toPostWithIndex:function(e){return N(e)}}),(0,l.jsx)(eQ,{toNextPost:function(){return N(function(e){return O?e+1:e})},toPreviousPost:function(){return N(function(e){return U?e-1:e})},hasNextPost:O,hasPreviousPost:U,post:j,postReaction:S,isOpen:C,onClose:function(){N(-1),f()},onVideoEnded:function(){O||p()},updateLikeReaction:function(e){S&&P((0,r.Z)((0,s.Z)({},I),(0,i.Z)({},b,(0,r.Z)((0,s.Z)({},S),{isPostLiked:e}))))},updateAuthorFollowedReaction:function(e){S&&P((0,r.Z)((0,s.Z)({},I),(0,i.Z)({},b,(0,r.Z)((0,s.Z)({},S),{isAuthorFollowed:e}))))}})]})}var te=o(70724),tt=o(51648),to=o(45756),tn=o(525),ti=o(67418),ts=o(69605),tr=o(93787),tl=o(14421),ta=o(9642),td={SLIDER:"full_slider",DEEP_LINKS:"deep_links",CAROUSEL:"products_cart",FRESH_SHORTCUT:"fresh_shortcut",SHORTCUT:"products_circle",BANNER:"simple_banner",MAIN_CATEGORIES_GRID:"main_categories_grid",LEAF_CATEGORIES_GRID:"leaf_categories_grid",POPULAR_BRANDS_GRID:"popular_brands_grid",PLUS_PRODUCTS:"plus_products",RANKED_PRODUCTS:"products_ordered",GRID_PRODUCTS:"products_grid",MAG_POSTS:"magazine_posts",PLACEHOLDER:"placeholder",SHIPPING_FEE_PROMOTION:"discount_promotion",PLUS_EARLY_ACCESS:"plus_early_access"},tc={RECOMMENDATION_1:"recommendation_categories_1",RECOMMENDATION_2:"recommendation_categories_2",DIGICLUB_POINTS:"digiclub_point"},tu=o(66582),tp=o(25388),tm=o(90917),tv=o(70582),th=o(79968),tg=o(64248),tf=o(73587);function tx(e){var t=e.data,o=e.prefix,n=t||{},i=n.title,s=n.products_count,r=n.discount_percent,l=n.products,a=n.see_more_url;return(0,tg.Y)({title:i,seeMoreUrl:(0,th.f)({data:a}),productsCount:s,discountPercent:r,products:(null==l?void 0:l.map(function(e){return(0,tf.r)({data:e})}))||[]},{prefix:o})}var t_=o(60036),tN=o(36041),tC="".concat(tu.nI?"/":"/mobile/"),tj=(0,eI.q)({url:tC,transformer:function(e){var t=e.data||{},o=t.widgets,n=t.shipping_fee_discount,i=t.seo;return{widgets:null==o?void 0:o.map(function(e){return function(e){var t,o,n,i,s,r,l,a,d,c,u,p=e.data,m=p.type,v=p.name,h=p.data,g=p.endpoint,f={};if(!(0,V.x)(h))switch(m){case td.SLIDER:f={slides:null==h?void 0:null===(t=h.map)||void 0===t?void 0:t.call(h,function(e){return(0,tp.C)({data:e})})};break;case td.BANNER:f={banners:null==h?void 0:null===(o=h.map)||void 0===o?void 0:o.call(h,function(e){return(0,tp.C)({data:e})}),bannersPerViewDesktop:null==h?void 0:h.length,bannersPerViewMobile:(null==h?void 0:h.length)>2?null==h?void 0:h.length:1};break;case td.SHIPPING_FEE_PROMOTION:f=(0,tN.L)({data:h});break;case td.CAROUSEL:case td.SHORTCUT:case td.FRESH_SHORTCUT:case td.RANKED_PRODUCTS:case td.GRID_PRODUCTS:case td.PLUS_EARLY_ACCESS:f=(0,tr.$)({data:h});break;case td.DEEP_LINKS:f={services:null==(n=(null==h?void 0:h.map(function(e){var t,o,n,i,s,r,l,a;return n=(o=e||{}).id,i=o.title,s=o.url,r=o.icon,l=o.description,a=o.is_digikala_group_service,{deepLinksId:n,deepLinksTitle:i,deepLinksUrl:(0,th.f)({data:s}),deepLinksIconUrl:null===(t=(0,tv.W)({data:r}))||void 0===t?void 0:t.imageUrl,deepLinksDescription:l||null,deepLinksIsDigikalaGroupService:a}}))||[])?void 0:n.filter(function(e){return!e.deepLinksIsDigikalaGroupService}),groupServices:null==n?void 0:n.filter(function(e){return e.deepLinksIsDigikalaGroupService})};break;case td.MAIN_CATEGORIES_GRID:case td.LEAF_CATEGORIES_GRID:r=(s=h||{}).categories,l=s.title,f={categories:null==r?void 0:null===(i=r.map)||void 0===i?void 0:i.call(r,function(e){return(0,tm.n)({data:e})}),title:l};break;case td.POPULAR_BRANDS_GRID:f={brands:null==h?void 0:null===(a=h.brands)||void 0===a?void 0:a.map(function(e){return(0,t_.Q)({data:e})})};break;case td.PLUS_PRODUCTS:c=(d=h||{}).cash_back_products,u=d.jet_delivery_products,f={cashbackProducts:tx({data:c}),jetDeliveryProducts:tx({data:u})};break;case td.MAG_POSTS:f=(0,tl.Z)({data:h});break;case td.PLACEHOLDER:f=null==h?void 0:h.identifier}return{name:v,type:m,data:f,endpoint:g}}({data:e})}),shippingFeePromotion:(0,tN.L)({data:n}),seoData:(0,ta.m)({data:i})}},version:2});function tb(e){var t=e.deepLink,o=e.CROId,n=e.className,i=e.target,s=e.onClick,r=t||{},a=r.deepLinksIconUrl,d=r.deepLinksTitle,c=r.deepLinksUrl,u=(0,k.d)("flex flex-col items-center user-select-none  my-2 lg:my-0",n);return(0,l.jsxs)(ee.r,{onClick:s,shouldHandleUrlAndOnClick:!0,target:i,to:c,className:u,CROId:void 0===o?"hp-ventures-icons":o,children:[(0,l.jsx)(j.E,{src:a,width:52,height:52,alt:d}),(0,l.jsx)("span",{className:"text-caption-strong text-neutral-700 mt-1 text-center",children:d})]})}var tw=o(47072),ty=o(56796),tI=o.n(ty);function tk(e){var t=e.isOpen,o=e.onClose,n=e.services,i=e.groupServices;return(0,l.jsx)(et.Modal,{shouldCloseOnPageChange:!1,isOpen:t,onDismiss:o,headerClassName:"py-0 px-5",header:(0,l.jsx)(tw.D,{title:"خدمات دیجی‌کالا",rightIcon:"dkSmile",rightIconColor:"primary"}),rounded:"large",children:(0,l.jsxs)("div",{className:"w-full relative lg:min-w-145 mt-5",children:[(0,l.jsx)("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-y-3",children:null==n?void 0:n.map(function(e){return(0,l.jsx)(tb,{deepLink:e},e.deepLinksId)})}),(null==i?void 0:i.length)>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h4",{className:"text-body1-strong text-neutral-500 mt-6",children:"سرویس‌های گروه دیجی‌کالا"}),(0,l.jsx)("div",{className:"lg:grid grid-cols-2 gap-3 mt-2",children:null==i?void 0:i.map(function(e){return(0,l.jsxs)(ee.r,{target:"_blank",to:e.deepLinksUrl,className:(0,k.d)("flex items-start border-complete-b lg:rounded-large lg:border-complete-200 py-3 lg:px-3",tI().shortcutsModal__serviceBox),CROId:"hp-ventures-icons",children:[(0,l.jsx)(j.E,{src:e.deepLinksIconUrl,width:52,height:52,alt:e.deepLinksTitle,className:"rounded-large shrink-0"}),(0,l.jsxs)("div",{className:"mr-3 grow",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("p",{className:"text-subtitle-strong text-neutral-700",children:e.deepLinksTitle}),(0,l.jsx)(S.J,{icon:"arrowLeft",size:24,className:"mr-4",color:"low-emphasis"})]}),(0,l.jsx)("p",{className:"text-body-2 text-neutral-500",children:e.deepLinksDescription})]})]},e.deepLinksId)})})]})]})})}var tP=o(14061);function tS(e){var t=e.className,o=(0,k.d)("w-full flex items-center justify-between overflow-hidden flex-wrap lg:flex-nowrap gap-y-4 lg:gap-0",t);return(0,l.jsx)("div",{className:o,children:[1,2,3,4,5,6,7,8].map(function(e){return(0,l.jsxs)("div",{className:"w-3/12 lg:w-unset flex items-center justify-center flex-col",children:[(0,l.jsx)(tP.O,{width:52,height:52}),(0,l.jsx)(tP.O,{width:70,height:12,className:"mt-3"})]},e)})})}var tU=o(1346),tO=o.n(tU),tT=o(33199),tR=o(86671),tE=o(6458),tD=o(34719),tM=o.n(tD),tL=(0,eI.q)({url:"/recommendation/",transformer:function(e){var t,o=(e.data||{}).categories;return{categories:null==o?void 0:null===(t=o.map)||void 0===t?void 0:t.call(o,function(e){return(0,tr.$)({data:e})})}},inputTransformer:function(e){var t=e.page;return(0,i.Z)({},ey.Tx.WEB_PAGE,t)}}),tA=o(32950);function tF(e){var t,o,n,i=e.index,s=(t=(0,Y.V)({apiData:{page:ey.oO.HOME},disabled:!(0,V.x)(tQ),apiMethod:tL,onSuccess:function(e){(0,V.x)(e)||(tQ=e)}}).data,tQ||t).categories,r=null==s?void 0:null===(o=s.slice)||void 0===o?void 0:o.call(s,4*i,4*i+4);return(0,V.x)(r)?null:(0,l.jsx)(tA.t,{columns:4,yogaList:null==s?void 0:null===(n=s.slice)||void 0===n?void 0:n.call(s,4*i,4*i+4)})}function tZ(e){var t=e.className,o=(0,k.d)("py-2 lg:rounded-large flex items-center gap-2",t),n=(0,U.C)().isDesktop,i=(0,l.jsx)(tP.O,{className:"lg:w-1/4 w-full",height:n?400:700});return(0,l.jsx)("div",{className:o,children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row w-full items-center",children:[i,i,i,i]})})}var tB=o(94313),tH=o(32543),tV=o(20402),tz=o(68648),tG=o(92406),tW=o(75202),tJ=o.n(tW);function tq(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:(0,k.d)("overflow-hidden relative",tJ().slider),children:(0,l.jsx)(tH.z,{})}),(0,l.jsxs)("div",{className:"container-2xl-w mx-auto lg:px-4 2xl:px-0 mt-4 flex flex-col gap-y-4",children:[(0,l.jsx)(tS,{}),(0,l.jsx)(tV.O,{}),(0,l.jsx)(tz.O,{}),(0,l.jsx)(tG.P,{imageWidthMobile:130,imageWidthDesktop:100})]})]})}var tY=(0,eI.q)({url:function(e){return e.endpoint},transformer:function(e){var t=e.data;return(0,tr.$)({data:t})}}),tX=(t$={},(0,i.Z)(t$,td.RANKED_PRODUCTS,x.A),(0,i.Z)(t$,td.GRID_PRODUCTS,f.F),t$);function tK(e){var t=e.type,o=e.endpoint,n=(0,Y.V)({apiData:{endpoint:o},apiMethod:tY}).data,i=tX[t];return(0,l.jsx)(i,(0,s.Z)({widgetName:t},n),t)}var tQ,t$,t0,t2={},t1=(t0={},(0,i.Z)(t0,td.SLIDER,m.J),(0,i.Z)(t0,td.DEEP_LINKS,function(e){var t,o,n,i,s=e.services,r=e.groupServices,a=e.className,d=e.showSkeleton,c=e.skeletonClassName,u=(0,J.R)({modalId:"deep-link-others"}),p=u.isOpen,m=u.onClose,v=u.onOpen,h=(0,k.d)("w-full lg:py-2 px-3 bg-neutral-000 grid grid-cols-4 lg:flex lg:items-center flex-wrap justify-around",a),g=(0,k.d)("bg-neutral-100 rounded-circle flex justify-center items-center text-neutral-400",tO().MainHomeDeepLinks__moreButton),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){(0,y.d0)({clickedItemName:(null==e?void 0:e.deepLinksTitle)||"بیشتر",widgetName:b.cn})}};return d?(0,l.jsx)(tS,{className:c}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:h,children:[null===(t=null==r?void 0:r.slice(0,4))||void 0===t?void 0:null===(o=t.map)||void 0===o?void 0:o.call(t,function(e){return(0,l.jsx)(tb,{onClick:f(e),CROId:"hp-ventures-icons",deepLink:e,target:"_blank"},null==e?void 0:e.deepLinksId)}),null===(n=null==s?void 0:s.slice(0,(null==r?void 0:r.length)>3?3:7-(null==r?void 0:r.length)))||void 0===n?void 0:null===(i=n.map)||void 0===i?void 0:i.call(n,function(e){return(0,l.jsx)(tb,{onClick:f(e),CROId:"hp-ventures-icons",deepLink:e},null==e?void 0:e.deepLinksId)}),(0,l.jsxs)("div",{onClick:v,"data-cro-id":"hp-more-ventures",className:"flex flex-col items-center user-select-none my-2 lg:my-0 cursor-pointer",children:[(0,l.jsx)("div",{className:g,onClick:f(),children:(0,l.jsx)(S.J,{icon:"moreHoriz",size:32,color:"low-emphasis"})}),(0,l.jsx)("span",{className:"text-caption-strong text-neutral-700 mt-1",children:"بیشتر"})]})]}),(0,l.jsx)(tk,{isOpen:p,onClose:m,services:s,groupServices:r})]})}),t2[td.CAROUSEL]=t2[td.CAROUSEL]||{},t2[td.CAROUSEL].get=function(){return(0,B.d)(A.X.AB_TEST_AMAZING_CAROUSEL_NO_NAME)?_.J:h.r},(0,i.Z)(t0,td.SHORTCUT,g.q),(0,i.Z)(t0,td.FRESH_SHORTCUT,function(e){var t=e.mode,o=void 0===t?g.D.FRESH:t,n=e.products,i=e.productsCount,s=e.productsSeeMoreUrl,r=e.productsDiscountPercent,a=e.productsTitle,d=e.bigDataCarouselName,c=void 0===d?b.Wm:d;return(0,l.jsx)(g.q,{mode:o,products:n,productsCount:i,productsSeeMoreUrl:s,productsDiscountPercent:r,productsTitle:a,bigDataCarouselName:c})}),(0,i.Z)(t0,td.BANNER,p.U),(0,i.Z)(t0,td.MAIN_CATEGORIES_GRID,function(e){var t,o,n=e.categories,i=e.title,s=(0,U.C)().isDesktop,r=(0,a.useMemo)(function(){var e=null==n?void 0:n.length;return n&&Array.from({length:Math.ceil(e/3)},function(e,t){return[n[3*t],n[3*t+1],n[3*t+2]]})},[null==n?void 0:n.length]),d=function(e){return function(){(0,y.d0)({clickedItemName:e.categoryTitle,widgetName:b.c_})}};return(0,l.jsxs)("div",{className:"w-full lg:px-4 py-3 lg:pt-4 lg:pb-10 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"mb-6 lg:mb-9 text-center",children:(0,l.jsx)("h3",{className:"text-h3",children:i})}),!s&&(0,l.jsx)(tR.i,{className:"relative w-full dk-main-slider",slidesPerView:2.5,freeMode:!0,breakpoints:{360:{slidesPerView:3.5},700:{slidesPerView:4.5},1024:{slidesPerView:5.5},1201:{slidesPerView:6.5}},slides:null==r?void 0:null===(t=r.map)||void 0===t?void 0:t.call(r,function(e,t){var o;return(0,l.jsx)("div",{className:"flex flex-col items-center justify-between gap-1",children:null==e?void 0:null===(o=e.map)||void 0===o?void 0:o.call(e,function(e){return e&&(0,l.jsx)(tE.Y,{onClick:d(e),imageWidthMobile:90,imageWidthDesktop:100,CROId:"hp-categories-icons",isMainCat:!0,categoryData:e,useImageOverLogo:!0,className:"h-40"},null==e?void 0:e.categoryId)})},t)})}),s&&(0,l.jsx)("div",{className:"w-full flex items-center justify-center flex-wrap gap-0 gap-y-6 lg:gap-y-8",children:null==n?void 0:null===(o=n.map)||void 0===o?void 0:o.call(n,function(e){return(0,l.jsx)(tE.Y,{categoryData:e,imageWidthMobile:90,imageWidthDesktop:100,CROId:"hp-categories-icons",isMainCat:!0,useImageOverLogo:!0,onClick:d(e),className:tM().WidgetMainCategory__box6},null==e?void 0:e.categoryId)})})]})}),(0,i.Z)(t0,td.LEAF_CATEGORIES_GRID,function(e){var t=e.categories,o=e.title,n=e.className;return(0,l.jsx)(tT.B,{BigDataWidgetName:b.b9,categoryGroups:t,title:o,className:n})}),(0,i.Z)(t0,td.POPULAR_BRANDS_GRID,v.J),(0,i.Z)(t0,td.PLUS_PRODUCTS,function(e){var t=e.jetDeliveryProducts,o=e.cashbackProducts,n=(0,ew.v)(I.p.digiplusData),i=n.digiplusIsActivated,a=n.digiplusSubscriptionRemainingDays;return(0,l.jsx)(tt.fF,{onWidgetBoxProductClick:function(e){(0,y.ID)((0,r.Z)((0,s.Z)({},e),{bigDataCarouselName:b.np}))},onWidgetBoxProductsView:function(e){(0,y.bY)((0,r.Z)((0,s.Z)({},e),{bigDataCarouselName:b.np}))},onDataLayerProductClick:function(e){(0,ti.Hw)((0,r.Z)((0,s.Z)({},e),{type:tn.k.plusProductWidget}))},jetDeliveryProducts:t,cashbackProducts:o,isPlusUser:i,subscriptionRemainingDays:a,onProfilePlusLink:function(){(0,y.d0)({clickedItemName:"details button",widgetName:b.Q4}),(0,ts.u)({url:w.iV})},onLandingLink:function(){(0,y.d0)({clickedItemName:"membership button",widgetName:b.Q4}),(0,ts.u)({url:w.LX})},linkPlusUrl:w.LX,backgroundImage:"/statics/img/png/digiplus/plus-widget.png",CROIdSubscription:to.h.PLUS_HOME_WIDGET,onJetDeliverySeeMoreLink:function(){(0,y.d0)({clickedItemName:"jet-delivery see more button",widgetName:b.Q4}),(0,ts.u)({url:null==t?void 0:t.seeMoreUrl})},onCashbackSeeMoreLink:function(){(0,y.d0)({clickedItemName:"cashback see more button",widgetName:b.Q4}),(0,ts.u)({url:null==o?void 0:o.seeMoreUrl})}})}),(0,i.Z)(t0,td.RANKED_PRODUCTS,x.A),(0,i.Z)(t0,td.GRID_PRODUCTS,f.F),(0,i.Z)(t0,td.MAG_POSTS,N.j),(0,i.Z)(t0,td.SHIPPING_FEE_PROMOTION,function(e){var t=e.shippingFeePromotionDiscountPercent,o=e.shippingFeePromotionTimer,n=e.shippingFeePromotionTitle,i=e.shippingFeePromotionDescription,s=e.shippingFeePromotionUrl;return(0,l.jsx)(tB.f,{shippingFeePromotionDiscountPercent:t,shippingFeePromotionTimer:o,shippingFeePromotionTitle:n,shippingFeePromotionDescription:i,shippingFeePromotionUrl:s,className:"rounded-medium mx-3 lg:mx-0"})}),(0,i.Z)(t0,td.PLUS_EARLY_ACCESS,te._),(0,i.Z)(t0,td.PLACEHOLDER,function(){return null}),function(e,t){for(var o in t){var n=t[o];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o,n)}if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),s=0;s<i.length;s++){var r=i[s],n=t[r];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r,n)}}(t0,t2),t0),t4=(0,H.D)({component:function(e){var t,o=e.ssrData,n=e.pending;(0,F.N)({condition:n});var i="black_friday"===(0,d.v9)(Z.b.promotion).promotionTitle,p=(0,a.useCallback)(function(e){switch(e){case tc.DIGICLUB_POINTS:return(0,l.jsx)(L,{});case tc.RECOMMENDATION_1:return(0,l.jsx)(u.Z,{debounce:300,placeholder:(0,l.jsx)(tZ,{}),children:(0,l.jsx)(tF,{index:0})});case tc.RECOMMENDATION_2:return(0,l.jsx)(u.Z,{debounce:300,placeholder:(0,l.jsx)(tZ,{}),children:(0,l.jsx)(tF,{index:1})});default:return null}},[]);if(n)return(0,l.jsx)(tq,{});var m=(o||{}).widgets;return(0,l.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,l.jsx)("div",{className:"container-2xl-w mx-auto",children:(0,l.jsx)(e8,{})}),null==m?void 0:null===(t=m.map)||void 0===t?void 0:t.call(m,function(e,t){var o=e.type,n=e.data,a=e.name,d=e.endpoint;if(d)return(0,l.jsx)(u.Z,{height:500,children:(0,l.jsx)("div",{className:"container-2xl-w mx-auto lg:px-4 2xl:px-0",children:(0,l.jsx)(tK,{type:o,endpoint:d})})});if((0,z.H)(n))return(0,l.jsx)("div",{className:"container-2xl-w mx-auto lg:px-4 2xl:px-0",children:p(n)});(o===td.FRESH_SHORTCUT||o===td.SHORTCUT)&&(n.mode=i&&o===td.FRESH_SHORTCUT?g.D.BF_FRESH:i&&o===td.SHORTCUT?g.D.BF_INCREDIBLE:o===td.FRESH_SHORTCUT?g.D.FRESH:g.D.INCREDIBLE);var m=t1[o];return!(0,V.x)(n)&&(0,l.jsx)("div",{className:(0,k.d)({"container-2xl-w mx-auto lg:px-4 2xl:px-0":o!==td.SLIDER,"px-5":o===td.BANNER||o===td.FRESH_SHORTCUT||o===td.PLUS_EARLY_ACCESS}),children:(0,l.jsx)(c.SV,{children:(0,l.jsx)(m,(0,r.Z)((0,s.Z)({widgetName:a},n),{type:i?h.V.blackFriday:h.V.amazing}),"".concat(t,"_").concat(o))})})})]})},getAPIMethods:function(){return[{apiMethod:tj}]},layoutProps:{showDigiplusSubscriptionRenewal:!0,desktopFullWidth:!0,isHomePage:!0,chatKey:"home",hasMobileHeader:!1,hasMobileStickyHeader:!0},noDefaultLoader:!0}),t3=(0,n.I)({getSSRMethods:t4.getAPIMethods}),t7=t4},64997:function(e,t,o){"use strict";o.d(t,{Z:function(){return l}});var n=o(52322),i=o(39879),s=o(79593),r=o(6562);function l(e){var t=e.children,o=e.offset,l=e.runOnce,a=e.hasPlaceHolder,d=e.placeholder,c=e.height,u=e.isPending,p=e.id;return s.s?(0,n.jsx)("div",{id:p,children:t}):u?(0,n.jsx)(r.I,{id:p}):(0,n.jsx)(i.ZP,{height:void 0===c?200:c,once:void 0===l||l,offset:void 0===o?100:o,placeholder:d||(void 0===a||a)&&(0,n.jsx)(r.I,{id:p}),children:(0,n.jsx)("div",{id:p,children:t})})}},6562:function(e,t,o){"use strict";o.d(t,{I:function(){return r}});var n=o(52322),i=o(72610),s=o(72677);function r(e){var t=e.className,o=e.id,r=(0,s.d)("py-4 flex items-center justify-center border-complete rounded-small my-4",t);return(0,n.jsx)("div",{className:r,id:o,children:(0,n.jsx)(i.g,{size:36})})}},34990:function(e,t,o){"use strict";o.d(t,{U:function(){return m}});var n=o(70865),i=o(52322),s=o(50930),r=o(2784),l=o(6547),a=o.n(l),d=o(14889),c=o(907),u=o.n(c);function p(e){var t=e.name,o=e.direction,n=void 0===o?"rtl":o,l=e.min,c=e.max,p=e.value,m=void 0===p?[]:p,v=e.onChange,h=e.handleAttributes,g=e.pips,f=void 0===g?{density:20}:g,x=e.step,_=void 0===x?1:x,N=e.className,C=e.markerClassName,j=void 0===C?u()["noUi-marker-horizontal"]:C,b=e.handleClassName,w=e.pipClassName,y=e.rangeClassName,I=e.activeRangeClassName,k=e.onTouchMove,P=void 0===k?d.ZT:k,S=e.onTouchEnd,U=void 0===S?d.ZT:S,O=(0,r.useRef)(),T=(0,r.useRef)();return(0,r.useEffect)(function(){return T.current||(T.current=a().create(O.current,{start:m,connect:(null==m?void 0:m.length)>1||"lower",direction:n,handleAttributes:(null==h?void 0:h.length)===(null==m?void 0:m.length)?h:void 0,step:_,pips:f,range:{min:l,max:c},cssPrefix:"",cssClasses:{target:u()["noUi-target"],base:u()["noUi-base"],origin:u()["noUi-origin"],handle:(0,d.dh)(u()["noUi-handle"],b),touchArea:u()["noUi-touch-area"],horizontal:u()["noUi-horizontal"],vertical:u()["noUi-vertical"],connect:(0,d.dh)(u()["noUi-connect"],I),connects:(0,d.dh)(u()["noUi-connects"],y),ltr:u()["noUi-ltr"],rtl:u()["noUi-rtl"],textDirectionLtr:u()["noUi-txt-dir-ltr"],textDirectionRtl:u()["noUi-txt-dir-rtl"],draggable:u()["noUi-draggable"],drag:u()["noUi-state-drag"],tap:u()["noUi-state-tap"],active:u()["noUi-active"],tooltip:u()["noUi-tooltip"],pips:(0,d.dh)(u()["noUi-pips"],w),pipsHorizontal:u()["noUi-pips-horizontal"],pipsVertical:u()["noUi-pips-vertical"],marker:u()["noUi-marker"],markerHorizontal:j,markerLarge:u()["noUi-marker-large"],markerSub:u()["noUi-pips-sub"],value:u()["noUi-value"],valueHorizontal:u()["noUi-value-horizontal"],valueVertical:u()["noUi-value-vertical"],valueNormal:u()["noUi-value-normal"],valueLarge:u()["noUi-value-large"],valueSub:u()["noUi-value-sub"]}})),function(){var e,t,o;null===(e=null==T?void 0:T.current)||void 0===e||null===(t=e.noUiSlider)||void 0===t||null===(o=t.destroy)||void 0===o||o.call(t)}},[]),(0,r.useEffect)(function(){var e,t;null===(e=null==T?void 0:T.current)||void 0===e||null===(t=e.updateOptions)||void 0===t||t.call(e,{range:{min:l,max:c}},!0)},[l,c]),(0,r.useEffect)(function(){var e,o,n,i,s,r=null===(e=null==T?void 0:T.current)||void 0===e?void 0:e.get();return m.some(function(e,t){return Number(e)!==Number(r[t])})&&(null===(i=null==T?void 0:T.current)||void 0===i||null===(s=i.set)||void 0===s||s.call(i,m)),null===(o=null==T?void 0:T.current)||void 0===o||null===(n=o.on)||void 0===n||n.call(o,"update",function(e){m.some(function(t,o){return Number(t)!==Number(e[o])})&&(null==v||v({value:e,name:t}))}),function(){var e,t;null===(e=null==T?void 0:T.current)||void 0===e||null===(t=e.off)||void 0===t||t.call(e,"update")}},(0,s.Z)(m).concat([t,v])),(0,i.jsx)("div",{className:(0,d.dh)("pr-1 pl-1 w-full",N),onTouchMove:P,onTouchEnd:U,children:(0,i.jsx)("div",{ref:O})})}function m(e){return(0,i.jsx)(p,(0,n.Z)({},e))}},98604:function(e,t,o){"use strict";o.d(t,{U:function(){return d}});var n=o(70865),i=o(96670),s=o(52322),r=o(12205),l=o(64177),a=o(72677);function d(e){var t=e.banners,o=e.bannerType,d=e.className,c=e.style,u=e.spaceBetween,p=void 0===u?16:u,m=e.bannersPerViewMobile,v=e.bannersPerViewDesktop,h=function(e){var t="".concat(p,"px");return g?e>0?t:0:e%f!=0?t:0},g=(0,l.C)().isDesktop,f=t.length>2?2:void 0===m?1:m,x=g?void 0===v?1:v:f;return(0,s.jsx)("div",{style:void 0===c?{}:c,className:(0,a.d)("flex flex-wrap",d),children:null==t?void 0:t.map(function(e,t){return(0,s.jsx)(r.j,(0,i.Z)((0,n.Z)({},e),{bannerTarget:"_blank",bannerType:o||e.bannerType,style:{width:"calc((100% - ".concat(x-1," * ").concat(p,"px)/").concat(x,")"),marginRight:h(t),marginTop:t>x-1?"".concat(p,"px"):0},radiusSize:16}),e.bannerId)})})}},57019:function(e,t,o){"use strict";o.d(t,{d:function(){return d}});var n=o(52322);o(2784);var i=o(13980),s=o.n(i),r=o(72677),l=o(31909),a=o(52216),d=function(e){var t=e.points,o=e.textClasses,i=e.scoreTextClasses,s=e.className,d={root:(0,r.d)("flex items-center whitespace-nowrap",s),text:(0,r.d)("text-neutral-000 text-caption",o),boldText:(0,r.d)("text-h3-extra mx-1",i)};return(0,n.jsxs)("div",{className:d.root,children:[(0,n.jsxs)("p",{className:d.text,children:["امتیاز شما",(0,n.jsx)("b",{className:d.boldText,children:(0,a.U)(void 0===t?0:t)})]}),(0,n.jsx)("div",{className:"flex items-center mb-1",children:(0,n.jsx)(l.E,{src:"/statics/img/svg/club-point.svg",width:24,height:24,className:"object-contain",alt:"دیجی‌کلاب"})})]})};d.propTypes={points:s().number}},56796:function(e){e.exports={shortcutsModal__serviceBox:"styles_shortcutsModal__serviceBox__AUX24"}},1346:function(e){e.exports={MainHomeDeepLinks__moreButton:"styles_MainHomeDeepLinks__moreButton__4E_IX"}},34719:function(e){e.exports={WidgetMainCategory__box6:"styles_WidgetMainCategory__box6__2f40d"}},75202:function(e){e.exports={slider:"styles_slider__KWYhs"}},637:function(e){e.exports={ShippingFeePromotion:"styles_ShippingFeePromotion__rNidV","ShippingFeePromotion--pdp":"styles_ShippingFeePromotion--pdp__jpO2k",ShippingFeePromotion__text:"styles_ShippingFeePromotion__text__aMPxB",ShippingFeePromotion__countdown:"styles_ShippingFeePromotion__countdown__ni9Ug",ShippingFeePromotion__countdownConfetti:"styles_ShippingFeePromotion__countdownConfetti__FAUKy","ShippingFeePromotion__countdownConfetti--rightUp":"styles_ShippingFeePromotion__countdownConfetti--rightUp__kow4B","ShippingFeePromotion__countdownConfetti--leftBottom":"styles_ShippingFeePromotion__countdownConfetti--leftBottom__GNDMr",ShippingFeePromotion__countdownItem:"styles_ShippingFeePromotion__countdownItem__QPhP2",ShippingFeePromotion__separator:"styles_ShippingFeePromotion__separator__nyux6"}},86981:function(e){e.exports={container:"styles_container__ipSg9",innerContainer:"styles_innerContainer__6FPF0",image:"styles_image__ggcBy","image--live":"styles_image--live__9HAdp",timeBadge:"styles_timeBadge__9pyVG",timeBadge__started:"styles_timeBadge__started__fVz_J",liveBadge:"styles_liveBadge__LPO8f"}},73186:function(e){e.exports={right:"styles_right__bWd56",left:"styles_left__9JtiE"}},83679:function(e){e.exports={VideoEndedModal__item:"styles_VideoEndedModal__item__Wa_x7"}},34479:function(e){e.exports={VideoModalContentFooterOverlay:"styles_VideoModalContentFooterOverlay__Dr7La"}},57194:function(e){e.exports={VideoModalContentHeaderOverlay:"styles_VideoModalContentHeaderOverlay__BR_XF"}},90830:function(e){e.exports={VideoPlayerProgressbar__range:"styles_VideoPlayerProgressbar__range__whAT3"}},22427:function(e){e.exports={widgetClub__main:"styles_widgetClub__main__YyXEj",widgetClub__section:"styles_widgetClub__section__rWZdP",widgetClub__sectionImageContainer:"styles_widgetClub__sectionImageContainer___cQtW"}},907:function(e){e.exports={"noUi-target":"styles_noUi-target__XAwMt","noUi-base":"styles_noUi-base__VsFI9","noUi-connects":"styles_noUi-connects__bbrsT","noUi-connect":"styles_noUi-connect__FBBSb","noUi-origin":"styles_noUi-origin__UEgCh","noUi-txt-dir-rtl":"styles_noUi-txt-dir-rtl__iqVbf","noUi-horizontal":"styles_noUi-horizontal__dw6Te","noUi-vertical":"styles_noUi-vertical___RXpJ","noUi-handle":"styles_noUi-handle__8L8O2","noUi-touch-area":"styles_noUi-touch-area__Lm7W6","noUi-state-tap":"styles_noUi-state-tap__dG_qu","noUi-state-drag":"styles_noUi-state-drag__C05QU","noUi-draggable":"styles_noUi-draggable__MTW_M","noUi-active":"styles_noUi-active___kO3x","noUi-pips":"styles_noUi-pips__UmpDJ","noUi-value":"styles_noUi-value__OxDP1","noUi-value-sub":"styles_noUi-value-sub__kknTe","noUi-marker":"styles_noUi-marker__5cMCy","noUi-marker-sub":"styles_noUi-marker-sub__v2vwQ","noUi-marker-large":"styles_noUi-marker-large__MjD_8","noUi-pips-horizontal":"styles_noUi-pips-horizontal__KW2RI","noUi-value-horizontal":"styles_noUi-value-horizontal__CSfom","noUi-rtl":"styles_noUi-rtl__a4z36","noUi-marker-horizontal":"styles_noUi-marker-horizontal__4RGRJ","noUi-pips-vertical":"styles_noUi-pips-vertical__Hwad_","noUi-value-vertical":"styles_noUi-value-vertical__po5AX","noUi-marker-vertical":"styles_noUi-marker-vertical__bI49x","noUi-tooltip":"styles_noUi-tooltip__L4_c7"}}},function(e){e.O(0,[5338,6547,6023,5653,8245,4521,6057,8071,9848,1129,5832,7622,9933,4759,9360,290,9774,2888,179],function(){return e(e.s=45081)}),_N_E=e.O()}]);